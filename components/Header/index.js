import React, { useState, useEffect } from 'react';
import Link from 'next/link';

import Button from '../Shared/Button';

function index() {
  const [top, setTop] = useState(true);
  // detect whether user has scrolled the page down by 10px 
  useEffect(() => {
    const scrollHandler = () => {
      window.pageYOffset > 10 ? setTop(false) : setTop(true)
    };
    window.addEventListener('scroll', scrollHandler);
    return () => window.removeEventListener('scroll', scrollHandler);
  }, [top]);  

  return (
    <header className={`fixed w-full z-30 md:bg-opacity-90 transition duration-300 ease-in-out ${!top && 'bg-grey-900 blur shadow-lg'}`}>
      <div className="max-w-6xl mx-auto px-5 sm:px-6">
        <div className="flex items-center justify-between h-16 md:h-20">
          <div className="flex-shrink-0 mr-4">
            <svg xmlns="http://www.w3.org/2000/svg" className="w-36 h-10 md:w-64 md:h-12" viewBox="0 0 924.41 180.56">
              <defs>
                <linearGradient id="a" x1="1.61" y1="52.97" x2="121.56" y2="52.97" gradientUnits="userSpaceOnUse">
                  <stop offset="0" stopColor="#3730a3"/>
                  <stop offset=".2" stopColor="#4e34a1"/>
                  <stop offset=".63" stopColor="#893e9d"/>
                  <stop offset="1" stopColor="#c24899"/>
                </linearGradient>
                <linearGradient id="b" x1="41.81" y1="76.53" x2="161.77" y2="76.53" href="#a"/>
                <linearGradient id="c" x1="41.96" y1="130.82" x2="161.92" y2="130.82" href="#a"/>
              </defs>
              <g data-name="Layer 2">
                <g data-name="Layer 3" fill="#f2f2f2">
                  <path d="M220.27 124.44c-15.28 0-25.94-8.91-26.6-20.24h15.5c.55 4.62 4.84 8.14 11 8.14s9.35-2.75 9.35-6.27c0-10.89-34.41-4-34.41-26.29 0-10.12 9-18.26 24.07-18.26 14.74 0 23.64 8 24.52 20.13h-14.74c-.44-4.73-4.18-7.92-10.23-7.92-5.71 0-8.68 2.31-8.68 5.83 0 11.11 33.75 4.18 34.19 26.51 0 10.45-9.12 18.37-23.97 18.37zM277.55 61.52c15.17 0 25.4 7.92 28.69 21.56h-16.6c-1.76-5.17-5.82-8.47-12.2-8.47-8.57 0-14.29 6.49-14.29 18.37s5.72 18.26 14.29 18.26c6.38 0 10.33-2.86 12.2-8.36h16.6c-3.29 13-13.52 21.56-28.69 21.56-17.59 0-30.12-12.32-30.12-31.46s12.53-31.46 30.12-31.46zM312.07 42.05h15.39V70.1c4-5.17 10.77-8.47 18.91-8.47 13.74 0 23.75 9.24 23.75 26.07v35.75h-15.4V89.79c0-9.79-5.38-15.07-13.52-15.07-8.35 0-13.74 5.28-13.74 15.07v33.66h-15.39zM405.84 124.44c-17.7 0-30.56-12.32-30.56-31.46s12.53-31.46 30.56-31.46c17.59 0 30 12 30 30.14a36 36 0 01-.44 5.94h-44.51c.77 9 6.93 14.08 14.62 14.08 6.6 0 10.23-3.3 12.21-7.37h16.6c-3.3 11.22-13.41 20.13-28.48 20.13zM391 87.26h28.92c-.22-8-6.6-13.09-14.52-13.09-7.36 0-13.19 4.73-14.4 13.09zM465.54 61.52c8 0 15.72 3.74 19.9 9.46V42.05h15.61v81.4h-15.61v-9c-3.63 5.61-10.45 10-20 10-15.5 0-27.82-12.65-27.82-31.68s12.31-31.25 27.92-31.25zm3.85 13.53c-8.25 0-16.06 6.16-16.06 17.71s7.81 18.15 16.06 18.15c8.46 0 16.16-6.38 16.16-17.93s-7.7-17.93-16.16-17.93zM568.11 123.45h-15.5v-7.7c-3.85 5.17-10.56 8.47-18.14 8.47-14.18 0-24.41-9.24-24.41-26V62.51h15.39v33.55c0 9.79 5.39 15.07 13.53 15.07 8.35 0 13.63-5.28 13.63-15.07V62.51h15.5zM577.78 42.05h15.39v81.4h-15.39zM629.45 124.44c-17.7 0-30.56-12.32-30.56-31.46s12.5-31.46 30.56-31.46c17.59 0 30 12 30 30.14a37.12 37.12 0 01-.44 5.94H614.5c.77 9 6.93 14.08 14.62 14.08 6.6 0 10.23-3.3 12.21-7.37h16.6c-3.3 11.22-13.42 20.13-28.48 20.13zm-14.84-37.18h28.91c-.22-8-6.59-13.09-14.51-13.09-7.36 0-13.19 4.73-14.4 13.09zM689.15 61.52c8 0 15.72 3.74 19.9 9.46V42.05h15.61v81.4h-15.61v-9c-3.63 5.61-10.45 10-20 10-15.51 0-27.82-12.65-27.82-31.68s12.3-31.25 27.92-31.25zm3.84 13.53c-8.24 0-16.05 6.16-16.05 17.71s7.81 18.15 16.05 18.15c8.47 0 16.16-6.38 16.16-17.93s-7.69-17.93-16.16-17.93zM741.03 124.22c-5.6 0-9.56-4-9.56-9s4-9 9.56-9a9 9 0 110 18zM757.31 42.05h15.39v81.4h-15.39zM780.72 46.23c0-5.06 4-9 9.46-9a9 9 0 110 18c-5.5.02-9.46-3.94-9.46-9zm1.67 16.28h15.39v60.94h-15.39zM817.44 62.51l15.39 46.75 15.39-46.75h16.38l-22.53 60.94h-18.68l-22.44-60.94zM894.39 124.44c-17.7 0-30.57-12.32-30.57-31.46s12.57-31.46 30.57-31.46c17.59 0 30 12 30 30.14a36 36 0 01-.44 5.94h-44.51c.77 9 6.93 14.08 14.63 14.08 6.59 0 10.22-3.3 12.2-7.37h16.6c-3.3 11.22-13.41 20.13-28.48 20.13zm-14.83-37.18h28.91c-.22-8-6.6-13.09-14.51-13.09-7.37 0-13.2 4.73-14.4 13.09z"/>
                </g>
                <g data-name="Layer 4">
                  <path d="M3.17 75.67a4 4 0 00-.74 5.61l16.49 21.49a4 4 0 005.61.74L120 30.27a4 4 0 00.74-5.61L104.26 3.17a4 4 0 00-5.61-.74zm38.41 5.06a4 4 0 01-.74 5.61l-15.63 12a4 4 0 01-5.61-.74L7.61 82a4 4 0 01.74-5.6L24 64.37a4 4 0 015.61.74z" transform="translate(-1.61 -1.61)" fill="url(#a)"/>
                  <path d="M43.38 99.23a4 4 0 00-.74 5.61l16.48 21.49a4 4 0 005.61.74l95.48-73.24a4 4 0 00.73-5.61l-16.48-21.49a4 4 0 00-5.61-.73zm38.4 5.07a4 4 0 01-.74 5.6l-15.63 12a4 4 0 01-5.61-.74l-12-15.62a4 4 0 01.74-5.61l15.63-12a4 4 0 015.61.74z" transform="translate(-1.61 -1.61)" fill="url(#b)"/>
                  <path d="M43.53 153.52a4 4 0 00-.74 5.61l16.48 21.49a4 4 0 005.61.74l95.48-73.24a4 4 0 00.73-5.61L144.61 81a4 4 0 00-5.61-.74zm38.4 5.06a4 4 0 01-.74 5.61l-15.63 12a4 4 0 01-5.61-.74L48 159.81a4 4 0 01.74-5.61l15.63-12a4 4 0 015.61.74z" transform="translate(-1.61 -1.61)" fill="url(#c)"/>
                </g>
              </g>
            </svg>
          </div>
          <nav className="flex flex-grow">
            <ul className="flex flex-grow justify-end flex-wrap items-center">
              <li>
                <Link href="https://www.app.scheduled.live/auth">
                  <Button inverse>
                    Log in
                  </Button>
                </Link>
              </li>
              <li>
                <Link href="https://www.app.scheduled.live/auth?access=signup">
                  <Button default>
                    Sign up
                  </Button>
                </Link>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
  )
}

export default index
